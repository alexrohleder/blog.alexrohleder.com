
/**
 * Minimal Form Interface (orginaly on: tympanus.net/codrops/2014/04/01/minimal-form-interface/)
 *
 * Refactored version of the Codrop's minimal form interface, now simplier, in jQuery and SASS.
 *
 * @author Alex Rohleder <alexrohleder96@outlook.com> <https://www.alexrohleder.com.br> <https://blog.alexrohleder.com.br>
 * @version 1.0
 */

$(function(){$.fn.form=function(n){var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],t=$(this),o=0,e=t.find(".question"),r=e.eq(o).find("input"),a=t.find(".progress-bar"),s=t.find(".next"),d=t.find(".count .itr"),c=t.find(".error"),l=$.extend({validate:function(n){return Modernizr.formvalidation?n[0].checkValidity():""!==n.val()},error:function(n){return n[0].validationMessage?n[0].validationMessage:"Invalid Input"},submit:function(){}},n),f=function(){},u=function(n){return n.preventDefault(),l.validate(r)?(o+=1,a.css("width","p%".replace("p",o*(100/e.length))),c.removeClass("show"),o===e.length?(s.off("click"),l.submit(this)):(d.html(o+1),c.html("&nbsp;"),t.addClass("change"),e.eq(o-1).removeClass("current"),void(r=e.eq(o).addClass("current").find("input").focus()))):!c.html(l.error(r)).addClass("show")},h=function(){t.removeClass("change")},v=function(n){13==n.which&&s.click()};t.find(".count .total").html(e.length),e.on("focus",f).on("keyup",v),s.on("click",u),a.on(i,h)}});